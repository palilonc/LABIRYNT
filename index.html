<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Milionerzy</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-image: url('https://github.com/palilonc/milonerzy/blob/main/w-milionerach-padlo-pytanie-za-milion-i-wygrana.jpeg?raw=true');
            background-size: cover;
            background-position: center;
            margin: 0;
            padding: 20px;
            color: white;
        }

        #quiz-container {
            background-color: rgba(0, 0, 0, 0.7); /* Półprzezroczyste tło */
            padding: 20px;
            border-radius: 10px;
            max-width: 800px;
            margin: auto;
            text-align: center;
            color: white;
        }

        .question {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .answers button {
            display: block;
            font-size: 20px;
            margin-bottom: 10px;
            background-color: rgba(255, 255, 255, 0.2); /* Półprzezroczyste tło odpowiedzi */
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            width: 100%;
            border: none;
            color: white;
        }

        .answers button:hover {
            background-color: rgba(255, 255, 255, 0.4); /* Efekt najechania myszką */
        }

        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
        }

        button:hover {
            background-color: #0056b3;
        }

        #result-container {
            margin-top: 20px;
            font-size: 22px;
            font-weight: bold;
        }

        #stake-container {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        #timer {
            font-size: 20px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div id="quiz-container">
        <div id="question-container">
            <div class="question"></div>
            <div class="answers"></div>
        </div>
        <div id="stake-container">Stawka: 0 zł</div>
        <div id="timer">Czas: 30</div>
        <button id="quit-button">Rezygnuję</button>
        <div id="result-container"></div>
    </div>

    <audio id="background-music" src="https://github.com/palilonc/milonerzy/raw/refs/heads/main/Theme%20Contestants%20-%20Who%20Wants%20to%20Be%20a%20Millionaire_.mp3" preload="auto"></audio>
    
    <button id="play-music">Odtwórz muzykę</button>

    <script>
        document.getElementById('play-music').addEventListener('click', function() {
            const music = document.getElementById('background-music');
            music.play().catch(function(error) {
                console.log("Błąd odtwarzania:", error);
            });
        });
        
        const questions = [
            { question: "W którym roku wybuchło powstanie warszawskie?", answers: ["1939", "1943", "1944", "1945"], correct: 2 },
            { question: "Kto był pierwszym królem Polski?", answers: ["Mieszko I", "Bolesław Chrobry", "Kazimierz Wielki", "Władysław Jagiełło"], correct: 1 },
            // więcej pytań tutaj...
        ];

        const maxTime = 30;
        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        let timeLeft = maxTime;

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            timeLeft = maxTime;
            document.getElementById('result-container').innerHTML = '';
            document.getElementById('stake-container').innerHTML = 'Stawka: 0 zł';
            document.getElementById('timer').innerHTML = `Czas: ${timeLeft}`;
            document.getElementById('quit-button').style.display = 'inline-block';
            document.getElementById('question-container').style.display = 'block';
            document.getElementById('result-container').style.display = 'none';
            document.getElementById('timer').style.display = 'inline';
            shuffleQuestions(); // Losowanie pytań
            showQuestion();
            startTimer();
        }

        function shuffleQuestions() {
            for (let i = questions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [questions[i], questions[j]] = [questions[j], questions[i]];
            }
        }

        function showQuestion() {
            if (currentQuestionIndex < questions.length) {
                resetTimer(); // Resetujemy licznik czasu przy nowym pytaniu
                const question = questions[currentQuestionIndex];
                document.querySelector('.question').innerText = question.question;
                const answersContainer = document.querySelector('.answers');
                answersContainer.innerHTML = '';
                question.answers.forEach((answer, index) => {
                    const button = document.createElement('button');
                    button.innerText = answer;
                    button.onclick = () => selectAnswer(index);
                    answersContainer.appendChild(button);
                });
            } else {
                endQuiz();
            }
        }

        function selectAnswer(index) {
            const question = questions[currentQuestionIndex];
            if (index === question.correct) {
                score += 1000; // Dodaj stawkę
                document.getElementById('stake-container').innerHTML = `Stawka: ${score} zł`;
                currentQuestionIndex++;
                showQuestion();
            } else {
                endQuiz();
            }
        }

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').innerHTML = `Czas: ${timeLeft}`;
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    endQuiz();
                }
            }, 1000);
        }

        function resetTimer() {
            clearInterval(timer);
            timeLeft = maxTime;
            document.getElementById('timer').innerHTML = `Czas: ${timeLeft}`;
            startTimer();
        }

        function endQuiz() {
            document.getElementById('question-container').style.display = 'none';
            document.getElementById('result-container').innerText = `Koniec gry! Twój wynik to ${score} zł`;
            document.getElementById('result-container').style.display = 'block';
            document.getElementById('timer').style.display = 'none';
            document.getElementById('quit-button').style.display = 'none';
            clearInterval(timer);
        }

        document.getElementById('quit-button').addEventListener('click', endQuiz);

        // Start quiz on page load
        window.onload = startQuiz;

        const backgroundMusic = document.getElementById('background-music');
        backgroundMusic.volume = 0.5;
        backgroundMusic.loop = true;
        backgroundMusic.play();
    </script>
</body>
</html>
